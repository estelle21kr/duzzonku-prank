<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title> ì‰¿ </title>

    <style>
        body {
            font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", sans-serif;
            margin: 0;
            height: 100vh;
            overflow: hidden;
            display: grid;
            place-items: center;
            background: radial-gradient(circle at 20% 20%, #fff 0%, #fff6d6 35%, #e6f7ff 70%, #ffe6f2 100%);
        }

        /* ë°°ê²½ì— ë– ë‹¤ë‹ˆëŠ” ì´ëª¨ì§€ */
        .bg-emoji {
            position: fixed;
            inset: 0;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }
        .bg-emoji span{
            position: absolute;
            font-size: clamp(18px, 3vw, 42px);
            opacity: .25;
            animation: floaty linear infinite;
            filter: blur(.1px);
        }
        @keyframes floaty {
            from { transform: translateY(110vh) rotate(0deg); }
            to   { transform: translateY(-15vh) rotate(360deg); }
        }

        .wrap {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 28px 22px;
            width: min(520px, 92vw);
            border-radius: 22px;
            background: rgba(255,255,255,.72);
            backdrop-filter: blur(10px);
            box-shadow: 0 18px 60px rgba(0,0,0,.12);
            border: 2px solid rgba(0,0,0,.05);
        }

        /* ìƒë‹¨ â€œê²½ê³  í…Œì´í”„â€ ëŠë‚Œ */
        .tape {
            display: inline-block;
            padding: 8px 14px;
            border-radius: 999px;
            background: #111;
            color: #fff;
            font-weight: 800;
            letter-spacing: .3px;
            transform: rotate(-2deg);
            margin-bottom: 12px;
            box-shadow: 0 10px 20px rgba(0,0,0,.18);
        }
        .tape small { opacity: .8; font-weight: 700; }

        .wrap h1 {
            margin: 0 0 8px;
            font-size: clamp(18px, 3.2vw, 30px);
            line-height: 1.1;
            letter-spacing: -0.6px;
            animation: wiggle 1.8s ease-in-out infinite;
        }
        @keyframes wiggle {
            0%,100% { transform: rotate(0deg); }
            30% { transform: rotate(-1.4deg) translateY(-1px); }
            60% { transform: rotate(1.2deg) translateY(1px); }
        }

        .map-link{
            font-weight: 900;
            color: #111;
            text-decoration: none;
            padding: 4px 10px;
            border-radius: 999px;
            background: rgba(0,0,0,.06);
            display: inline-block;
        }
        .map-link:hover{
            background: rgba(0,0,0,.12);
            transform: translateY(-1px);
        }
        .map-link:active{
            transform: translateY(0);
        }


        .sub {
            margin: 0 0 18px;
            font-size: 14px;
            opacity: .75;
        }

        /* ë§í’ì„  */
        .bubble {
            display: inline-block;
            padding: 10px 14px;
            border-radius: 16px;
            background: #fff;
            box-shadow: 0 10px 24px rgba(0,0,0,.10);
            border: 1px solid rgba(0,0,0,.06);
            margin: 10px 0 18px;
            position: relative;
            font-size: 14px;
            opacity: .9;
        }
        .bubble::after{
            content:"";
            position:absolute;
            left: 26px;
            bottom:-8px;
            width: 14px;
            height: 14px;
            background:#fff;
            border-right: 1px solid rgba(0,0,0,.06);
            border-bottom: 1px solid rgba(0,0,0,.06);
            transform: rotate(45deg);
        }

        .btn {
            padding: 12px 18px;
            font-size: 16px;
            border: 0;
            border-radius: 14px;
            cursor: pointer;
            font-weight: 800;
        }

        .btn-row{
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 14px;
            flex-wrap: wrap;
        }

        /* ë„¤ ë²„íŠ¼: ìœ í˜¹ ë²„íŠ¼ */
        .btn-yes {
            background: linear-gradient(135deg, #2ecc71, #00c2ff);
            color: #fff;
            box-shadow: 0 14px 30px rgba(0, 194, 255, .22);
            transform: translateZ(0);
            animation: pulse 1.2s ease-in-out infinite;
        }
        @keyframes pulse {
            0%,100% { transform: scale(1); }
            50% { transform: scale(1.06); }
        }
        .btn-yes:active { transform: scale(.98); }

        /* ì•„ë‹ˆìš” ë²„íŠ¼: ìˆ˜ìƒí•˜ê²Œ í”ë“¤ + ì‘ì€ í…ìŠ¤íŠ¸ */
        .btn-no{
            background:#e74c3c;
            color:#fff;
            transition: left 220ms ease, top 220ms ease;
            touch-action: manipulation;
            animation: sus 1.1s ease-in-out infinite;
        }

        /* ë„ë§ ëª¨ë“œì¼ ë•ŒëŠ” í”ë“¤ë¦¼(transform) ë„ê¸°: í™”ë©´ ë°– ë°€ë¦¼ ë°©ì§€ */
        .btn-no.floating {
            animation: none !important;
            transform: none !important;
        }

        @keyframes sus {
            0%,100% { transform: translateX(0); }
            40% { transform: translateX(-1px); }
            80% { transform: translateX(1px); }
        }

        .hint {
            margin-top: 10px;
            font-size: 12px;
            opacity: .7;
        }
        .hint b { opacity: .95; }

        /* ===== íŒŒí‹° í™”ë©´(ì˜¤ë²„ë ˆì´) ===== */
        .party{
            position: fixed;
            inset: 0;
            display: none;              /* ê¸°ë³¸ì€ ìˆ¨ê¹€ */
            place-items: center;
            text-align: center;
            background: radial-gradient(circle at 20% 20%, #fff, #ffe6f2, #e6f7ff);
            z-index: 9999;
            overflow: hidden;
        }
        .party.show { display: grid; }

        .party h2 { font-size: 44px; margin: 0 0 10px; }
        .party p  { font-size: 18px; margin: 0 0 24px; opacity: 0.85; }

        .sparkles {
            font-size: 46px;
            animation: pop 900ms ease-in-out infinite alternate;
        }

        /* ì•„ë‹ˆìš”ê°€ ë„ë§ì¹  "ê²½ê¸°ì¥" (í•­ìƒ í™”ë©´ ì•ˆ) */
        #playArea{
            position: fixed;
            inset: 0;
            overflow: hidden;
            z-index: 50;          /* main(.wrap: z-index 1) ìœ„ì— ë‘ë˜, party(9999) ì•„ë˜ */
            pointer-events: none; /* ê¸°ë³¸ì€ í„°ì¹˜/í´ë¦­ ë§‰ê¸° */
        }

        /* ë„ë§ ì¤‘ì¸ ì•„ë‹ˆìš” ë²„íŠ¼ë§Œ í„°ì¹˜ ê°€ëŠ¥ */
        #playArea .btn-no{
            pointer-events: auto;
        }

        /* ë„ë§ ì¤‘ì—ëŠ” í”ë“¤ë¦¼( transform ) OFF */
        .btn-no.floating{
            animation: none !important;
            transform: none !important;
        }

        @keyframes pop {
            from { transform: scale(1); }
            to   { transform: scale(1.12); }
        }

        /* ğŸ‰ ì»¨í˜í‹° */
        .confetti {
            position: absolute;
            top: -10vh;
            width: 10px;
            height: 16px;
            border-radius: 3px;
            opacity: 0.9;
            animation: fall linear infinite;
        }
        @keyframes fall {
            to { transform: translateY(120vh) rotate(720deg); }
        }

        .party .btn {
            background: #111;
            color: #fff;
            padding: 12px 16px;
            border-radius: 12px;
        }

    </style>
</head>

<body>
<!-- ë°°ê²½ ì´ëª¨ì§€ ë ˆì´ì–´ -->
<div class="bg-emoji" aria-hidden="true" id="bgEmoji"></div>
<div id="playArea" aria-hidden="true"></div>

<div class="wrap" id="main">

    <h1>ë‘ì«€ì¿ ë¥¼ ì‚¬ì£¼ì‹œê² ìŠµë‹ˆê¹Œ?</h1>

    <div class="bubble">
        ğŸ‘€ <a class="map-link" href="https://www.dubaicookiemap.com/" target="_blank" rel="noopener noreferrer">
        ë‘ì«€ì¿  ì§€ë„
    </a>
    </div>

    <div class="btn-row" id="btnRow">
        <button type="button" class="btn btn-yes" id="yesBtn">ë„¤</button>
        <button type="button" class="btn btn-no" id="noBtn">ì•„ë‹ˆìš”</button>
    </div>

    <!--
    <div class="hint">ğŸ¤« <b>íŒíŠ¸:</b> ë§ˆìš°ìŠ¤ë¥¼ â€œì•„ë‹ˆìš”â€ì— ì˜¬ë ¤ë³´ì„¸ìš”</div>
    -->
</div>



<!-- íŒŒí‹° í™”ë©´(ì˜¤ë²„ë ˆì´) -->
<div class="party" id="party">
    <div>
        <div class="sparkles">ğŸ‰ğŸŠâœ¨</div>
        <h2>ì„±ê³µ!!!</h2>
        <p>ë‘ì«€ì¿  í™•ì • ğŸ˜</p>
        <button type="button" class="btn" id="restartBtn">ë‹¤ì‹œ í•˜ê¸°</button>
    </div>
</div>

<script>
    // ===== ì•„ë‹ˆìš” ë²„íŠ¼ ë„ë§ (PC + ëª¨ë°”ì¼) =====
    const noBtn = document.getElementById("noBtn");
    let placeholder = null;

    const playArea = document.getElementById("playArea");

    function moveNo(e) {
        if (e) e.preventDefault();

        const pad = 16;

        // ìë¦¬í‘œ ìƒì„± (ì²˜ìŒ 1ë²ˆë§Œ)
        if (!placeholder) {
            const r = noBtn.getBoundingClientRect();

            placeholder = document.createElement("span");
            placeholder.className = "placeholder";
            placeholder.style.display = "inline-block";
            placeholder.style.width = r.width + "px";
            placeholder.style.height = r.height + "px";

            noBtn.parentNode.insertBefore(placeholder, noBtn);
        }

        // ë„ë§ ëª¨ë“œ í‘œì‹œ + í”ë“¤ë¦¼ ì œê±°
        noBtn.classList.add("floating");

        // noBtnì„ playArea(í™”ë©´ ì „ì²´ ê²½ê¸°ì¥)ë¡œ ì˜®ê¹€
        if (noBtn.parentNode !== playArea) playArea.appendChild(noBtn);

        // absolute ê¸°ì¤€ìœ¼ë¡œ ì‹œì‘ ìœ„ì¹˜ ì„¸íŒ… (í˜„ì¬ í™”ë©´ ì¢Œí‘œ -> playArea ì¢Œí‘œ)
        const start = noBtn.getBoundingClientRect();
        const areaRect = playArea.getBoundingClientRect();

        noBtn.style.position = "absolute";
        noBtn.style.margin = "0";
        noBtn.style.left = (start.left - areaRect.left) + "px";
        noBtn.style.top  = (start.top  - areaRect.top)  + "px";

        requestAnimationFrame(() => {
            // ë²„íŠ¼ ì‹¤ì œ í¬ê¸° ë‹¤ì‹œ ì¸¡ì •
            const rect = noBtn.getBoundingClientRect();

            const aw = playArea.clientWidth;
            const ah = playArea.clientHeight;

            // âœ… ì ˆëŒ€ í™”ë©´ ë°– ëª» ë‚˜ê°€ê²Œ ê²½ê³„ ê³„ì‚° (0 ~ max)
            const maxX = Math.max(pad, aw - rect.width - pad);
            const maxY = Math.max(pad, ah - rect.height - pad);

            const x = pad + Math.random() * (maxX - pad);
            const y = pad + Math.random() * (maxY - pad);

            noBtn.style.left = x + "px";
            noBtn.style.top  = y + "px";
        });
    }


    // PC: ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ ë„ë§
    noBtn.addEventListener("mouseenter", moveNo);

    // ëª¨ë°”ì¼/í„°ì¹˜: ëˆ„ë¥´ëŠ” ìˆœê°„ ë„ë§ (í´ë¦­/ì„ íƒ ë°©ì§€)
    noBtn.addEventListener("pointerdown", moveNo, { passive: false });

    // (ì¼ë¶€ iOS ì‚¬íŒŒë¦¬ ë³´ê°•ìš©) í„°ì¹˜ì—ì„œë„ í™•ì‹¤íˆ ë„ë§
    noBtn.addEventListener("touchstart", moveNo, { passive: false });


    // ===== ë„¤ ëˆ„ë¥´ë©´ íŒŒí‹° í™”ë©´ =====
    const yesBtn = document.getElementById("yesBtn");
    const party = document.getElementById("party");
    const restartBtn = document.getElementById("restartBtn");

    function makeConfetti(count = 70) {
        // ê¸°ì¡´ ì»¨í˜í‹° ì œê±°
        party.querySelectorAll(".confetti").forEach(el => el.remove());

        for (let i = 0; i < count; i++) {
            const c = document.createElement("div");
            c.className = "confetti";

            // ëœë¤ ìœ„ì¹˜/ì†ë„/í¬ê¸°
            c.style.left = (Math.random() * 100) + "vw";
            c.style.animationDuration = (2.2 + Math.random() * 2.2) + "s";
            c.style.animationDelay = (Math.random() * 0.8) + "s";
            c.style.transform = `rotate(${Math.random() * 360}deg)`;

            const size = 7 + Math.random() * 10;
            c.style.width = size + "px";
            c.style.height = (size * 1.6) + "px";

            // ìƒ‰ìƒì€ ëœë¤ (CSSì—ì„œ ìƒ‰ ì§€ì • ì•ˆ í•˜ê³  ì—¬ê¸°ì„œë§Œ)
            c.style.background = `hsl(${Math.random() * 360}, 90%, 60%)`;

            party.appendChild(c);
        }
    }

    const main = document.getElementById("main");

    yesBtn.addEventListener("click", () => {
        main.style.display = "none";
        party.classList.add("show");
        makeConfetti(90);
    });

    restartBtn.addEventListener("click", () => {
        party.classList.remove("show");
        main.style.display = "";

        // playAreaì— ìˆë˜ noBtnì„ placeholder ìë¦¬ë¡œ ë³µê·€
        if (placeholder) {
            placeholder.replaceWith(noBtn);
            placeholder = null;
        }

        noBtn.classList.remove("floating");
        noBtn.style.position = "";
        noBtn.style.left = "";
        noBtn.style.top = "";
        noBtn.style.margin = "";
    });


    // ===== ë°°ê²½ ì´ëª¨ì§€ ë„ìš°ê¸° (ì²« í™”ë©´ ê¾¸ë¯¸ê¸°) =====
    const bg = document.getElementById("bgEmoji");
    const emojis = ["ğŸª","ğŸ§ƒ","ğŸ˜ˆ","ğŸ«¶","ğŸ¤¡","ğŸ­","ğŸ¦„","ğŸ’¸","ğŸ‘»","âœ¨","ğŸˆ","ğŸ®"];

    function spawnEmoji(n = 18){
        if (!bg) return;
        bg.innerHTML = "";
        for(let i=0;i<n;i++){
            const s = document.createElement("span");
            s.textContent = emojis[Math.floor(Math.random()*emojis.length)];
            s.style.left = (Math.random()*100) + "vw";
            s.style.animationDuration = (6 + Math.random()*8) + "s";
            s.style.animationDelay = (-Math.random()*8) + "s";
            s.style.opacity = (0.12 + Math.random()*0.22).toFixed(2);
            bg.appendChild(s);
        }
    }
    spawnEmoji(22);

</script>
</body>
</html>
