<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title> ì‰¿ </title>

    <style>
        body {
            font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", sans-serif;
            margin: 0;
            height: 100vh;
            overflow: hidden;
            display: grid;
            place-items: center;
            background: #fafafa;
        }
        .wrap { text-align: center; }
        h1 { margin: 0 0 24px; }

        /* ê³µí†µ ë²„íŠ¼ì€ ê·¸ëŒ€ë¡œ */
        .btn {
            padding: 12px 18px;
            font-size: 16px;
            border: 0;
            border-radius: 12px;
            cursor: pointer;
        }
        .btn-yes { background: #2ecc71; color: #fff; }

        .btn-row{
            display: flex;
            justify-content: center;  /* ë¬¶ìŒ ìì²´ë¥¼ ì¤‘ì•™ */
            align-items: center;
            gap: 16px;                /* ë²„íŠ¼ ì‚¬ì´ ê°„ê²© */
        }

        /* ì•„ë‹ˆìš”ëŠ” ê¸°ë³¸ ìƒíƒœì—ì„œëŠ” "ê·¸ëƒ¥ ë²„íŠ¼" */
        .btn-no{
            background:#e74c3c;
            color:#fff;
            transition: left 220ms ease, top 220ms ease;
            touch-action: manipulation;
        }

        .placeholder {
            display: inline-block;
        }

        /* íŒŒí‹° í™”ë©´ */
        .party {
            position: fixed;
            inset: 0;
            display: none;              /* ê¸°ë³¸ì€ ìˆ¨ê¹€ */
            place-items: center;
            text-align: center;
            background: radial-gradient(circle at 20% 20%, #fff, #ffe6f2, #e6f7ff);
            z-index: 9999;
            overflow: hidden;
        }
        .party.show { display: grid; }

        .party h2 { font-size: 44px; margin: 0 0 10px; }
        .party p  { font-size: 18px; margin: 0 0 24px; opacity: 0.85; }

        .sparkles {
            font-size: 46px;
            animation: pop 900ms ease-in-out infinite alternate;
        }
        @keyframes pop {
            from { transform: scale(1); }
            to   { transform: scale(1.12); }
        }

        /* ğŸ‰ ê°„ë‹¨ ì»¨í˜í‹° */
        .confetti {
            position: absolute;
            top: -10vh;
            width: 10px;
            height: 16px;
            border-radius: 3px;
            opacity: 0.9;
            animation: fall linear infinite;
        }
        @keyframes fall {
            to { transform: translateY(120vh) rotate(720deg); }
        }

        .party .btn {
            background: #111;
            color: #fff;
            padding: 12px 16px;
            border-radius: 12px;
        }
    </style>
</head>

<body>
<div class="wrap" id="main">
    <h1>ë‘ì«€ì¿ ë¥¼ ì‚¬ì£¼ì‹œê² ìŠµë‹ˆê¹Œ?</h1>

    <div class="btn-row" id="btnRow">
        <button type="button" class="btn btn-yes" id="yesBtn">ë„¤</button>
        <button type="button" class="btn btn-no" id="noBtn">ì•„ë‹ˆìš”</button>
    </div>
</div>


<!-- íŒŒí‹° í™”ë©´(ì˜¤ë²„ë ˆì´) -->
<div class="party" id="party">
    <div>
        <div class="sparkles">ğŸ‰ğŸŠâœ¨</div>
        <h2>ì„±ê³µ!!!</h2>
        <p>ë‘ì«€ì¿  í™•ì • ğŸ˜</p>
        <button type="button" class="btn" id="restartBtn">ë‹¤ì‹œ í•˜ê¸°</button>
    </div>
</div>

<script>
    // ===== ì•„ë‹ˆìš” ë²„íŠ¼ ë„ë§ (PC + ëª¨ë°”ì¼) =====
    const noBtn = document.getElementById("noBtn");
    let placeholder = null;

    function moveNo(e) {
        if (e) e.preventDefault();

        const pad = 12;

        // 1) ìë¦¬í‘œ(placeholder) ë§Œë“¤ì–´ì„œ ë„¤ ë²„íŠ¼ ìœ„ì¹˜ ê³ ì •
        if (!placeholder) {
            const r = noBtn.getBoundingClientRect();

            placeholder = document.createElement("span");
            placeholder.className = "placeholder";
            placeholder.style.display = "inline-block";
            placeholder.style.width = r.width + "px";
            placeholder.style.height = r.height + "px";

            // noBtn ìë¦¬(ì›ë˜ ìœ„ì¹˜)ì— ìë¦¬í‘œë¥¼ ë‚¨ê¹€
            noBtn.parentNode.insertBefore(placeholder, noBtn);
        }

        // 2) auto -> px ì „í™˜ ë•Œë¬¸ì— ì²« ì´ë™ì´ ëš ëŠê¸°ëŠ” ë¬¸ì œ í•´ê²°:
        //    í˜„ì¬ í™”ë©´ ì¢Œí‘œë¥¼ ì¶œë°œì (px)ë¡œ ë¨¼ì € ì„¸íŒ…í•œ ë‹¤ìŒ, ë‹¤ìŒ í”„ë ˆì„ì— ëª©í‘œ ì¢Œí‘œë¡œ ì´ë™
        const start = noBtn.getBoundingClientRect();

        noBtn.style.position = "fixed";
        noBtn.style.margin = "0";
        noBtn.style.transform = "none";
        noBtn.style.left = start.left + "px";
        noBtn.style.top  = start.top + "px";

        requestAnimationFrame(() => {
            const rect = noBtn.getBoundingClientRect();
            const vw = document.documentElement.clientWidth;
            const vh = document.documentElement.clientHeight;

            const maxX = Math.max(pad, vw - rect.width - pad);
            const maxY = Math.max(pad, vh - rect.height - pad);

            const x = pad + Math.random() * (maxX - pad);
            const y = pad + Math.random() * (maxY - pad);

            noBtn.style.left = x + "px";
            noBtn.style.top  = y + "px";
        });
    }

    // PC: ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ ë„ë§
    noBtn.addEventListener("mouseenter", moveNo);

    // ëª¨ë°”ì¼/í„°ì¹˜: ëˆ„ë¥´ëŠ” ìˆœê°„ ë„ë§ (í´ë¦­/ì„ íƒ ë°©ì§€)
    noBtn.addEventListener("pointerdown", moveNo, { passive: false });

    // (ì¼ë¶€ iOS ì‚¬íŒŒë¦¬ ë³´ê°•ìš©) í„°ì¹˜ì—ì„œë„ í™•ì‹¤íˆ ë„ë§
    noBtn.addEventListener("touchstart", moveNo, { passive: false });


    // ===== ë„¤ ëˆ„ë¥´ë©´ íŒŒí‹° í™”ë©´ =====
    const yesBtn = document.getElementById("yesBtn");
    const party = document.getElementById("party");
    const restartBtn = document.getElementById("restartBtn");

    function makeConfetti(count = 70) {
        // ê¸°ì¡´ ì»¨í˜í‹° ì œê±°
        party.querySelectorAll(".confetti").forEach(el => el.remove());

        for (let i = 0; i < count; i++) {
            const c = document.createElement("div");
            c.className = "confetti";

            // ëœë¤ ìœ„ì¹˜/ì†ë„/í¬ê¸°
            c.style.left = (Math.random() * 100) + "vw";
            c.style.animationDuration = (2.2 + Math.random() * 2.2) + "s";
            c.style.animationDelay = (Math.random() * 0.8) + "s";
            c.style.transform = `rotate(${Math.random() * 360}deg)`;

            const size = 7 + Math.random() * 10;
            c.style.width = size + "px";
            c.style.height = (size * 1.6) + "px";

            // ìƒ‰ìƒì€ ëœë¤ (CSSì—ì„œ ìƒ‰ ì§€ì • ì•ˆ í•˜ê³  ì—¬ê¸°ì„œë§Œ)
            c.style.background = `hsl(${Math.random() * 360}, 90%, 60%)`;

            party.appendChild(c);
        }
    }

    yesBtn.addEventListener("click", () => {
        party.classList.add("show");
        makeConfetti(90);
    });

    restartBtn.addEventListener("click", () => {
        party.classList.remove("show");

        // ìë¦¬í‘œ ì œê±°í•˜ê³  ì›ë˜ flex íë¦„ìœ¼ë¡œ ë³µê·€
        if (placeholder) {
            placeholder.replaceWith(noBtn); // ìë¦¬í‘œ ìœ„ì¹˜ë¡œ ë‹¤ì‹œ ë„£ê¸°
            placeholder = null;
        }

        // ì›ë˜ flex ìë¦¬ë¡œ ë³µê·€
        noBtn.style.position = "";
        noBtn.style.left = "";
        noBtn.style.top = "";
        noBtn.style.transform = "";
        home = null; // ë‹¤ìŒ ê²Œì„ ìœ„í•´ ì´ˆê¸°í™”
    });

</script>
</body>
</html>
